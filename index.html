<!DOCTYPE html>
<html lang="zh">
  <head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=yes">
    <title>啵啵啵</title>
    <link rel="shortcut icon" href="/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="/css/style.css">
    <!-- hijs -->
    <link rel="stylesheet" href="/css/hljs/github2.css">
    <script src="/js/highlight.pack.js"></script>
    <script src="/js/dat.gui.js"></script>
    <script src="/js/three.js"></script>
    <script src="/js/vue.js"></script>
    <script>
      hljs.configure({
        useBR: false,
        tabReplace: '    '
      });
      document.addEventListener('DOMContentLoaded', function (ev) {
        document.querySelectorAll('pre>code').forEach(function (block) {
          hljs.highlightBlock(block);
        });
      });
    </script>
</head>
  
  <body class="container">
    
<header class="header">
  <div class="blog-title">
    <a href="/" class="logo">啵啵啵</a>
  </div>
  <nav class="navbar">
    <ul class="menu">
      
        <li class="menu-item">
          <a href="/" class="menu-item-link">Home</a>
        </li>
      
        <li class="menu-item">
          <a href="/archives" class="menu-item-link">Archives</a>
        </li>
      
        <li class="menu-item">
          <a href="https://steamcommunity.com/profiles/76561198376589719" class="menu-item-link">Steam</a>
        </li>
      
    </ul>
  </nav>
</header>



<script>

  document.addEventListener('DOMContentLoaded', function (ev) {
    document.querySelectorAll('.ou----t').forEach(function (block) {
      hljs.highlightBlock(block);
    });
  });
</script>
    <main class="main">
      
<!-- 标题 -->
<h1>痛苦啵堪</h1>

<!-- 文章列表 nooooo~ -->
<section class="posts">
  
    <article class="post">
      <h4>
        <a class="post-title-link" href="/20190419/JavaScript 继承/">
            JavaScript 继承
        </a>
      </h4>
        <div class="post-meta text-secondly">
            
                <a class="tag" href="/tags/JavaScript/">JavaScript</a>
            
                <a class="tag" href="/tags/我爱黎明/">我爱黎明</a>
            
          <span class="post-time">2019-04-19</span>
        </div>
      <div class="post-content fmt">
        <!-- <p>吧啦吧啦记录一下</p>
<a id="more"></a>
<p>首先存在一个 <code>Rifle</code> 父类</p>
<pre><code class="javascript">function Rifle(name, ammo, sounds) {
    this.name = name;
    this.ammo = 30;
    this.sounds = [&#39;da&#39;, &#39;daa&#39;, &#39;ada&#39;];
}
Rifle.prototype.fire = function() {
    console.log(this.sounds);
};
</code></pre>
<p>然后出现一个 <code>Negev</code> 子类 , 用以继承 <code>Rifle</code> 父类 , 开始继承 ~ ~</p>
<pre><code class="javascript">function Negev(name, ammo, sounds, clip) {
    Rifle.apply(this, arguments);  // 继承父类的 &quot;成员变量&quot;
    // Rifle.call(this, name. ammo);  // 当然你也可以这样写
    this.clip = clip || 0;
}
// 继承父类的 &quot;静态变量&quot; 和 &quot;方法&quot;
function extend(sub, sup) {
    sub.prototype = Object.create(sup.prototype);
    sub.prototype.constructor = sub;
}
extend(Negev, Rifle);
Negev.prototype.reload = function() {
    console.log(this.name + &#39;: reloading&#39;);
};
</code></pre>
<p>总结一下 :</p>
<ol>
<li>子类构造函数内调用父类构造方法 , 但是绑定了子类的上下文<br>这么做直接导致了父类在使用 <code>this.xxx = xxx</code> 的时候 , 所有的字段都被子类给 <strong>“继承”</strong> 了</li>
<li><code>extend()</code> 方法把父类原型链的内容搬过来 , 再恢复子类的构造器</li>
<li>切记<strong>不要</strong>直接这样赋值 <code>sub.prototype = sup.prototype;</code> 这样你更新子类原型链的时候<strong>父类的原型链也会跟着改变</strong> , 这还得了 ? ( 为什么会改变 , 因为这两个变量指向的是同一个对象 ) ; <code>Object.create()</code> 的出现就是为了解决这个问题; <code>Object.create()</code> 相当于</li>
</ol>
<pre><code class="javascript">function create(obj) {
    function Temp() {};
    Temp.prototype = obj;
    return new Temp();
}
/* 干了什么 : 复制了一份 obj */
</code></pre>
<p>这样子 prototype 就不会影响到父 prototype 了</p>
<p>测试一啵</p>
<pre><code class="javascript">var negev = new Negev(&#39;negev&#39;, 150, [&#39;哒哒哒&#39;, &#39;哒哒&#39;], 3);
var rifle = new Rifle(&#39;rifle&#39;, 25, [&#39;biu~&#39;, &#39;biu~~~~&#39;]);

console.log(&#39;negev instanceof Rifle ===&#39;, negev instanceof Rifle);  // true
console.log(&#39;negev instanceof Negev ===&#39;, negev instanceof Negev);  // true
console.log(&#39;Negev.prototype&#39;, Negev.prototype);
console.log(&#39;Rifle.prototype&#39;, Rifle.prototype);
Negev.prototype.asd = &#39;asd&#39;;
console.log(&#39;Negev.prototype&#39;, Negev.prototype);
console.log(&#39;Rifle.prototype&#39;, Rifle.prototype);
</code></pre>
<p>结果</p>
<p><strong>完了</strong></p>
 -->
        <p>吧啦吧啦记录一下</p>
      </div>
    </article>
  
    <article class="post">
      <h4>
        <a class="post-title-link" href="/20190415/MQ/">
            MQ 消息队列有什么优缺点
        </a>
      </h4>
        <div class="post-meta text-secondly">
            
                <a class="tag" href="/tags/我爱黎明/">我爱黎明</a>
            
                <a class="tag" href="/tags/MQ/">MQ</a>
            
          <span class="post-time">2019-04-15</span>
        </div>
      <div class="post-content fmt">
        <!-- <p>吧啦吧啦记录一下</p>
<a id="more"></a>
<p>消息队列有什么优缺点上面已经说了，就是在特殊场景下有其对应的好处，<strong>解耦</strong>、<br><strong>异步</strong>、<strong>削峰</strong>。</p>
<p>缺点有以下几个：</p>
<ol>
<li><strong>系统可用性降低</strong><br>系统引入的外部依赖越多，越容易挂掉。<br>本来你就是 A 系统调用 BCD 三个系统的接口就好了，人 ABCD 四个系统好好的，没<br>啥问题，你偏加个 MQ 进来，万一 MQ 挂了咋整，MQ 一挂，整套系统崩溃的，你不就<br>完了？</li>
</ol>
<ol start="2">
<li><p><strong>系统复杂度提高</strong><br>硬生生加个 MQ 进来，你怎么保证消息没有重复消费？怎么处理消息丢失的情况？怎么<br>保证消息传递的顺序性？头大头大，问题一大堆，痛苦不已。</p>
</li>
<li><p><strong>一致性问题</strong><br>A 系统处理完了直接返回成功了，人都以为你这个请求就成功了；但是问题是，<br>要是 BCD 三个系统那里，BD 两个系统写库成功了，结果 C 系统写库失败了，咋整？<br>你这数据就不一致了。所以消息队列实际是一种非常复杂的架构，你引入它有很多好处，<br>但是也得针对它带来的坏处做各种额外的技术方案和架构来规避掉，做好之后，你会发现，<br>妈呀，系统复杂度提升了一个数量级，也许是复杂了 10 倍。但是关键时刻，用，还是得用的。</p>
</li>
</ol>
 -->
        <p>吧啦吧啦记录一下</p>
      </div>
    </article>
  
    <article class="post">
      <h4>
        <a class="post-title-link" href="/20190413/css/">
            CSS 里 `width: 100% \9;` 这种写法是什么意思
        </a>
      </h4>
        <div class="post-meta text-secondly">
            
                <a class="tag" href="/tags/我爱黎明/">我爱黎明</a>
            
                <a class="tag" href="/tags/CSS/">CSS</a>
            
          <span class="post-time">2019-04-13</span>
        </div>
      <div class="post-content fmt">
        <!-- <h3 id="CSS-里-width-100-9-这种写法是什么意思"><a href="#CSS-里-width-100-9-这种写法是什么意思" class="headerlink" title="CSS 里 width: 100% \9; 这种写法是什么意思"></a>CSS 里 <code>width: 100% \9;</code> 这种写法是什么意思</h3><p><strong>据说是这么个意思 = =</strong></p>
<pre><code class="css">.color {
    color: red;  // 一般浏览器识别，字体颜色为红
    color: blue \9;  // IE8,IE9及以上版本识别，字体颜色为蓝
    *color: orange;  // IE7识别，字体颜色为橘色
    _color: black;  //  IE6识别，颜色为黑
}

//顺序不能反过来，因为后面识别的会覆盖前面识别的 (**就近原则**云云)
</code></pre>
<hr>
<p>这是专门针对 ie 的 hack 写法<br><code>\9</code>    在 <code>IE6/IE7/IE8/IE9/IE10</code> 生效<br><code>\0</code>    在 <code>IE8/IE9/IE10下</code> 生效<br><code>\9\0</code>  在 <code>IE9/IE10下</code> 生效</p>
 -->
        
      </div>
    </article>
  
    <article class="post">
      <h4>
        <a class="post-title-link" href="/20190413/goodlooking/">
            goodlooking
        </a>
      </h4>
        <div class="post-meta text-secondly">
            
          <span class="post-time">2019-04-13</span>
        </div>
      <div class="post-content fmt">
        <!-- <pre><code class="css">button.danger {
    color: #fff;
    background-color: #d9534f;
    border-color: #d43f3a;
}
button.danger:hover {
    color: #fff;
    background-color: #c9302c;
    border-color: #ac2925;
}
button.primary {
    color: #fff;
    background-color: #337ab7;
    border-color: #2e6da4;
}
button.primary:hover {
    color: #fff;
    background-color: #286090;
    border-color: #204d74;
}
button:hover {
    color: #333;
    background-color: #e6e6e6;
    border-color: #adadad;
}
button {
    color: #333;
    background-color: #fff;
    display: inline-block;
    padding: 6px 12px;
    /*margin-bottom: 0;*/
    font-size: 14px;
    font-weight: 400;
    line-height: 1.42857143;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    cursor: pointer;
    background-image: none;
    border: 1px solid #ccc;
    border-radius: 4px;
}
</code></pre>
<p>1、用滚动插件<br>2、只是谷歌可以用::-webkit-scrollbar 等专有属性优化或者隐藏<br>3、外面套多一个div，overflow:hidden的。。。固定宽度高度的<br>滚动条一般在15-20之间。。滚动的div多出20px就可以了。。</p>
<pre><code>#F44336, #FF9800, #FFEB3B, #4CAF50, #2196F3, #3F51B5, #9C27B0
text-shadow: 2px 2px 10px #000;
box-shadow: 0 15px 35px rgba(50, 50, 93, .1), 0 5px 15px rgba(0, 0, 0, .07);
</code></pre><pre><code class="javascript">function rgb2hex(r, g, b) {
    return &#39;#&#39; + ((1 &lt;&lt; 24) + (r &lt;&lt; 16) + (g &lt;&lt; 8) + b)
        .toString(16) // 先转成十六进制，然后返回字符串
        .substr(1);   // 去除字符串的最高位，返回后面六个字符串
}

function hex2rgb(hex) {
    return &#39;rgb(&#39;
        + hex &gt;&gt; 16 &amp; 0xff + &#39;, &#39;
        + hex &gt;&gt; 8 &amp; 0xff + &#39;, &#39;
        + hex + &#39;)&#39;;
}

function colorRandom() {
    return &#39;#&#39; + (0xffffff + ((Math.random() * 0xffffff) | 0))
        .toString(16).substr(1);
}

// 返回两数之间的值
function random(min, max) {
    if(&quot;number&quot; !== (typeof max)) {
        max = 0;
    }
    return Math.random() * (max - min) + min;
}

function getSign(num){
    if(&quot;number&quot; === (typeof num)) {
        return num &lt; 0 ? -1 : 1;
    } else {
        return getSign(random(-1, 1));
    }
}

function toAngle(arc) {
    return arc * (Math.PI/180);
}

function toArc(angle) {
    return angle / (Math.PI/180);
}


/* fake_click */
    function export_raw(name, blob) {
        // name=文件名, blob=文件二进制对象
        var urlObject = window.URL || window.webkitURL || window;
        var save_link = document.createElementNS(&quot;http://www.w3.org/1999/xhtml&quot;, &quot;a&quot;)
        save_link.href = urlObject.createObjectURL(blob);
        save_link.download = name;
        fake_click(save_link);
    }

    function fake_click(obj) {
        var ev = document.createEvent(&quot;MouseEvents&quot;);
        ev.initMouseEvent(
            &quot;click&quot;, true, false, window, 0, 0, 0, 0, 0
            , false, false, false, false, 0, null
        );
        obj.dispatchEvent(ev);
    }
</code></pre>
<pre><code>/* 盲文 */
</code></pre><p>⠁⠁⠂⠃⠄⠅⠆⠇<br>⡀⡁⡂⡃⡄⡅⡆⡇<br>⠈⠉⠊⠋⠌⠍⠎⠏<br>⡈⡉⡊⡋⡌⡍⡎⡏<br>⠐⠑⠒⠓⠔⠕⠖⠗<br>⡐⡑⡒⡓⡔⡕⡖⡗<br>⠘⠙⠚⠛⠜⠝⠞⠟<br>⡘⡙⡚⡛⡜⡝⡞⡟<br>⠠⠡⠢⠣⠤⠥⠦⠧<br>⡠⡡⡢⡣⡤⡥⡦⡧<br>⠨⠩⠪⠫⠬⠭⠮⠯<br>⡨⡩⡪⡫⡬⡭⡮⡯<br>⠰⠱⠲⠳⠴⠵⠶⠷<br>⡰⡱⡲⡳⡴⡵⡶⡷<br>⠸⠹⠺⠻⠼⠽⠾⠿<br>⡸⡹⡺⡻⡼⡽⡾⡿<br>⢀⢁⢂⢃⢄⢅⢆⢇<br>⣀⣁⣂⣃⣄⣅⣆⣇<br>⢈⢉⢊⢋⢌⢍⢎⢏<br>⣈⣉⣊⣋⣌⣍⣎⣏<br>⢐⢑⢒⢓⢔⢕⢖⢗<br>⣐⣑⣒⣓⣔⣕⣖⣗<br>⢘⢙⢚⢛⢜⢝⢞⢟<br>⣘⣙⣚⣛⣜⣝⣞⣟<br>⢠⢡⢢⢣⢤⢥⢦⢧<br>⣠⣡⣢⣣⣤⣥⣦⣧<br>⢨⢩⢪⢫⢬⢭⢮⢯<br>⣨⣩⣪⣫⣬⣭⣮⣯<br>⢰⢱⢲⢳⢴⢵⢶⢷<br>⣰⣱⣲⣳⣴⣵⣶⣷<br>⢸⢹⢺⢻⢼⢽⢾⢿<br>⣸⣹⣺⣻⣼⣽⣾⣿</p>
<p>⠁⠁⠂⠃⠄⠅⠆⠇⡀⡁⡂⡃⡄⡅⡆⡇⠈⠉⠊⠋⠌⠍⠎⠏⡈⡉⡊⡋⡌⡍⡎⡏⠐⠑⠒⠓⠔⠕⠖⠗⡐⡑⡒⡓⡔⡕⡖⡗⠘⠙⠚⠛⠜⠝⠞⠟⡘⡙⡚⡛⡜⡝⡞⡟⠠⠡⠢⠣⠤⠥⠦⠧⡠⡡⡢⡣⡤⡥⡦⡧⠨⠩⠪⠫⠬⠭⠮⠯⡨⡩⡪⡫⡬⡭⡮⡯⠰⠱⠲⠳⠴⠵⠶⠷⡰⡱⡲⡳⡴⡵⡶⡷⠸⠹⠺⠻⠼⠽⠾⠿⡸⡹⡺⡻⡼⡽⡾⡿⢀⢁⢂⢃⢄⢅⢆⢇⣀⣁⣂⣃⣄⣅⣆⣇⢈⢉⢊⢋⢌⢍⢎⢏⣈⣉⣊⣋⣌⣍⣎⣏⢐⢑⢒⢓⢔⢕⢖⢗⣐⣑⣒⣓⣔⣕⣖⣗⢘⢙⢚⢛⢜⢝⢞⢟⣘⣙⣚⣛⣜⣝⣞⣟⢠⢡⢢⢣⢤⢥⢦⢧⣠⣡⣢⣣⣤⣥⣦⣧⢨⢩⢪⢫⢬⢭⢮⢯⣨⣩⣪⣫⣬⣭⣮⣯⢰⢱⢲⢳⢴⢵⢶⢷⣰⣱⣲⣳⣴⣵⣶⣷⢸⢹⢺⢻⢼⢽⢾⢿⣸⣹⣺⣻⣼⣽⣾⣿</p>
<pre><code>[&#39;log&#39;, &#39;info&#39;, &#39;warn&#39;, &#39;error&#39;].forEach(function(method) {
    console[method] = console[method].bind(
        console,
        new Date().toISOString()
    );
});

// getCharFromCharCode
(function() {
    document.writeln(&quot;&lt;style&gt;span:hover{background-color:ff0;}&lt;/style&gt;&quot;);
    for(var i = -1000; i &lt; 10000; i++) {
        if(i%60 === 0) {
            document.writeln(&quot;&lt;br&gt;&quot;);
        }
        document.write(&#39;&lt;span title=&quot;&#39; + i + &#39;&quot;&gt;&#39;
            + String.fromCharCode(i) + &#39;&lt;/span&gt;&#39;);
    }
})();
</code></pre><p>░░░░░░░█▐▓▓░████▄▄▄█▀▄▓▓▓▌███<br>░░░░░▄█▌▀▄▓▓▄▄▄▄▀▀▀▄▓▓▓▓▓▌███<br>░░░▄█▀▀▄▓█▓▓▓▓▓▓▓▓▓▓▓▓▀░▓▌███<br>░░█▀▄▓▓▓███▓▓▓███▓▓▓▄░░▄▓▐███<br>░█▌▓▓▓▀▀▓▓▓▓███▓▓▓▓▓▓▓▄▀▓▓▐██<br>▐█▐██▐░▄▓▓▓▓▓▀▄░▀▓▓▓▓▓▓▓▓▓▌██<br>█▌███▓▓▓▓▓▓▓▓▐░░▄▓▓███▓▓▓▄▀▐█<br>█▐█▓▀░░▀▓▓▓▓▓▓▓▓▓██████▓▓▓▓▐█<br>▌▓▄▌▀░▀░▐▀█▄▓▓██████████▓▓▓▌█<br>▌▓▓▓▄▄▀▀▓▓▓▀▓▓▓▓▓▓▓▓█▓█▓█▓▓▌█<br>█▐▓▓▓▓▓▓▄▄▄▓▓▓▓▓▓█▓█▓█▓█▓▓▓▐█</p>
<p>███▐▓▓▓▄▀█▄▄▄████░▓▓▌█░░░░░░░<br>███▐▓▓▓▓▓▄▀▀▀▄▄▄▄▓▓▄▀▐█▄░░░░░<br>███▐▓░▀▓▓▓▓▓▓▓▓▓▓▓▓█▓▄▀▀█▄░░░<br>███▌▓▄░░▄▓▓▓███▓▓▓███▓▓▓▄▀█░░<br>██▌▓▓▀▄▓▓▓▓▓▓▓███▓▓▓▓▀▀▓▓▓▐█░<br>██▐▓▓▓▓▓▓▓▓▓▀░▄▀▓▓▓▓▓▄░▌██▌█▌<br>█▌▀▄▓▓▓███▓▓▄░░▌▓▓▓▓▓▓▓▓███▐█<br>█▌▓▓▓▓██████▓▓▓▓▓▓▓▓▓▀░░▀▓█▌█<br>█▐▓▓▓██████████▓▓▄█▀▌░▀░▀▐▄▓▐<br>█▐▓▓█▓█▓█▓▓▓▓▓▓▓▓▀▓▓▓▀▀▄▄▓▓▓▐<br>█▌▓▓▓█▓█▓█▓█▓▓▓▓▓▓▄▄▄▓▓▓▓▓▓▌█</p>
<p>░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░<br>░█░█░█▀█░█▀█░█▀█░█░█░░█▀▄░█▀▀░█░█░█░░█░█░█▀▀░█▀█░█▀█░█░<br>░█▀█░█▀█░█▀▀░█▀▀░▀█▀░░█░█░█▀▀░█░█░█░░▀█▀░█▀▀░█▀█░█▀▄░▀░<br>░▀░▀░▀░▀░▀░░░▀░░░░▀░░░▀░▀░▀▀▀░░▀░▀░░░░▀░░▀▀▀░▀░▀░▀░▀░▀░<br>░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░</p>
<p>⠁⠁⠁⠁⠁⠁⠁⢀⣀⡀⠁⠁⡠⠐⠒⠒⠢⢄⠁⠁⠁⠁⠁⠁<br>⠁⠁⠁⠁⢀⣔⣈⣀⠁⢈⠱⠖⠒⠒⠒⠒⠤⡀⠙⢦⠁⠁⠁⠁<br>⠁⣀⠴⠭⠤⠤⢄⢀⢝⡓⠴⠶⢒⣒⠠⢀⠁⠁⠁⠁⠇⠁⠁⠁<br>⠮⠐⣩⣭⡍⠉⠐⡃⠁⣠⣶⣦⠁⠁⠉⢒⠂⠁⠁⠁⢸⠁⠁⠁<br>⡇⠁⣏⣹⡿⠁⠁⡄⠁⣿⣈⣿⠃⠁⡐⡁⠁⠁⠁⠁⠘⠱⡀⠁<br>⠘⡦⠭⠭⠄⣒⠥⠓⡦⢌⠉⠥⠔⡨⠊⠁⠁⠁⠁⠁⠁⠁⢱⠁<br>⠁⢈⠫⢍⣀⡐⠁⠁⠈⠒⠲⠬⠥⠁⠒⠈⠁⠁⠠⢄⠁⠁⠁⡆<br>⢠⣌⡀⠁⠰⠁⠁⠁⠁⠁⠁⠁⢀⣠⣤⣶⣾⣿⡷⠄⠁⠁⠁⠇<br>⠘⢽⣾⣵⣶⣶⣶⣶⣶⣶⣿⡿⣿⠻⠿⠛⡩⣻⡟⠁⠁⠁⠸⠁<br>⢀⢀⣺⡯⠃⠛⠺⠛⠁⠉⠉⡡⠄⡲⣶⡾⡿⠏⠁⠁⠁⡠⠁⠁<br>⠃⢸⣿⣣⣤⢀⣰⣤⣤⢴⣭⣶⡻⣟⠿⠋⠁⠁⠁⢀⠔⠁⠁⠁<br>⠁⠈⠻⠿⢿⠟⠿⠿⠿⠿⠛⠋⠉⠁⠁⠁⠁⣀⠔⠁⠁⠁⠁⠁<br>⠁⠁⠁⠁⠁⠉⠒⠤⠤⠤⠤⠄⠤⠤⠤⠒⠉⠁⠁⠁⠁⠁⠁⠁</p>
<pre><code class="javascript">// domain(arr, index)
function mirrorString(str, domain, option) {
    if((typeof str) === &quot;undefined&quot;) {
        console.error(&quot;not a String&quot;);
        return &quot;&quot;;
    }
    domain = domain || console.log;
    var strArr = str.split(&quot;\n&quot;);
    strArr.forEach(function(item, index, arr) {
        arr[index] = item.split(&quot;&quot;).reverse().join(&quot;&quot;);
        domain(arr, index);
    });
    return strArr.join(&quot;\n&quot;);
}

String.prototype.replaceAll = function (f, e) {
    return this.replace(new RegExp(f, &quot;g&quot;), e);
};

String.prototype.swap = function (a, b) {
    var tag = &quot;###&quot;;
    var newVal = &quot;&quot;;
    // mark
    newVal = this.replaceAll(a, tag + a);
    newVal = newVal.replaceAll(b, tag + b);
    // swap
    newVal = newVal.replaceAll(tag + a, b);
    newVal = newVal.replaceAll(tag + b, a);
    return newVal;
}

function domain(arr, index) {
    arr[index] = arr[index].swap(&quot;▌&quot;, &quot;▐&quot;);
}
</code></pre>
<p>(function() {<br>    var imgs = document.querySelectorAll(‘img’);<br>    var className = ‘click’;<br>    document.write(‘<style> img{ transition: .3s; width:25%;} img.’ + className + ‘{width: 100%;}</style>‘);<br>    for(var i = 0; i &lt; imgs.length; i++) {<br>      if(imgs[i].src) {<br>        document.write(‘&lt;img onclick=”this.classList.contains(‘ + className + ‘)\<br>                               ? this.classList.remove(‘ + className + ‘)\<br>                               : this.classList.add(‘ + className + ‘);”\<br>                             src=”‘ + imgs[i].src + ‘“&gt;’);<br>      }<br>    }<br>})();</p>
<p>// 拿到帖子的图片 ( 当前页 )<br>document.querySelectorAll(‘img.BDE_Image’).forEach(function(t, i, arr) { document.write(‘<img src="' + t.src + '">‘) });</p>
<p>// 大图页 1<br>(function(selector, replace) {<br>    var imgs = document.querySelectorAll(selector);<br>    document.write(‘<style> img{width:20%;}</style>‘);<br>    for(var i = 0; i &lt; imgs.length; i++) {<br>        if(imgs[i].src) {<br>          var img = document.createElement(‘img’);<br>          img.src = imgs[i].src.replace(replace[0], replace[1]);<br>          img.onload = function() {<br>            document.body.append(this);<br>          };<br>      }<br>    }<br>})(‘#dt-bp-tab-nav &gt; div &gt; ul &gt; li.tab-trigger &gt; div &gt; a &gt; img’, [‘.64x64.jpg’, ‘.jpg’]);</p>
<p>// 详情页<br>(function(selector) {<br>    var imgs = document.querySelectorAll(selector);<br>    document.body.innerHTML = (‘<style> img{width:20%;}</style>‘);<br>    for(var i = 0; i &lt; imgs.length; i++) {<br>      if(imgs[i].src) {<br>          var img = document.createElement(‘img’);<br>          img.src = imgs[i].src;<br>          img.onload = function() {<br>            document.body.append(this);<br>          };<br>      }<br>    }<br>})(‘#desc-lazyload-container &gt; div &gt; img’);</p>
<p>(function(selector, callback) {<br>    var els = document.querySelectorAll(selector);<br>    var history = [];<br>    for(var i = 0; i &lt; els.length; i++) {<br>      callback(els, i, els);<br>    }<br>})(‘#desc-lazyload-container &gt; div &gt; img’, function(t, i, ts) {<br>    console.log(i);<br>});</p>
 -->
        
      </div>
    </article>
  
    <article class="post">
      <h4>
        <a class="post-title-link" href="/20190329/hello-world/">
            Hello World
        </a>
      </h4>
        <div class="post-meta text-secondly">
            
          <span class="post-time">2019-03-29</span>
        </div>
      <div class="post-content fmt">
        <!-- <p>测试一啵<br><a id="more"></a></p>
<p><canvas id="canvas354879" border="1">noooo~</canvas></p>
<p><label>dashLong<input value="8" id="dashLong" name="dashLong" type="range" min="1" max="100" step="1"></label></p>
<p><label>dashSpacing<input value="4" id="dashSpacing" name="dashSpacing" type="range" min="1" max="100" step="1"></label></p>
<p><label>speed<input value="16" id="speed" name="speed" type="range" min="1" max="1000" step="1"></label></p>
<script>
window.addEventListener('load', function(ev) {
    var canvas = document.querySelector('#canvas354879');
    var ctx = canvas.getContext('2d');
    var width = 200, lineWidth = 3;
    canvas.height = canvas.width = width + lineWidth;
    var dashLong = 8, dashSpacing = 4, dashOffset = 0, speed = 16;

    var dlon = document.querySelector("#dashLong");
    var dspc = document.querySelector("#dashSpacing");
    var dspe = document.querySelector("#speed");

    dlon.addEventListener('input', update, false);
    dspc.addEventListener('input', update, false);
    dspe.addEventListener('input', update, false);

    function update() {
        dashLong = dlon.value;
        dashSpacing = dspc.value;
        speed = dspe.value;
    }

    console.log('Hello World');

    (function draw() {
        dashOffset++;
        if( dashOffset >= dashLong + dashSpacing){
            dashOffset = 0;
        }
        ctx.setLineDash([dashLong, dashSpacing]);
        ctx.clearRect( 0, 0, canvas.width, canvas.height);
        ctx.lineDashOffset = -dashOffset;
        ctx.lineWidth = lineWidth;
        ctx.strokeRect(lineWidth/2, lineWidth/2, width, width);
        setTimeout(draw, 1000/speed);
    })();
}, false);
</script>


<!-- more -->
<h2 id="yee"><a href="#yee" class="headerlink" title="yee~"></a>yee~</h2><pre><code>(function draw() {
    dashOffset++;
    if( dashOffset &gt;= dashLong + dashSpacing){
        dashOffset = 0;
    }
    ctx.setLineDash([dashLong, dashSpacing]);
    ctx.clearRect( 0, 0, canvas.width, canvas.height);
    ctx.lineDashOffset = -dashOffset;
    ctx.lineWidth = lineWidth;
    ctx.strokeRect(lineWidth/2, lineWidth/2, width, width);
    setTimeout(draw, 1000/speed);
})();
</code></pre> -->
        <p>测试一啵<br>
      </p></div>
    </article>
  
</section>


<style>
    .ad {
        position: fixed;
        bottom: 0;
        right: 15px;
        border-radius: 4px 4px 0 0;
        width: 150px;
        max-width: 50%;
        max-height: 50%;
        border-top: 5px solid;
        border-left: 5px solid;
        border-right: 5px solid;
        animation-duration: .5s;
        animation-name: ad-border;
        animation-iteration-count: infinite;
        animation-direction: alternate;
        transform: translateY(0%);
    }
    .ad.hide{
        transform: translateY(110%);
    }

    .ad .btn-close {
        position: absolute;
        top: -1.5em;
        right: 0;
        background: transparent;
        border: 0;
        padding: 0;
        margin: 0;
        text-shadow: 0 0 5px #fff;
    }

    .ad .btn-close:hover {
        color: red;
        text-shadow: 0 0 5px #0005;
        font-weight: bold;
        opacity: .8;
    }

    @keyframes ad-border {
        0% {
            border-color: #F44336;
        }
        17% {
            border-color: #FF9800;
        }
        34% {
            border-color: #FFEB3B;
        }
        51% {
            border-color: #4CAF50;
        }
        68% {
            border-color: #2196F3;
        }
        85% {
            border-color: #3F51B5;
        }
        100% {
            border-color: #9C27B0;
        }
    }
</style>
<section class="ad hide">
    <button class="btn-close">X</button>
    <img draggable="false" src="/img/emotion1.gif" alt="ad" width="100%">
    <script>
      (function () {
        document.querySelectorAll('.btn-close').forEach(function (t) {
          t.addEventListener('click', function (ev) {
                this.parentElement.classList.add('hide');
          }, false);
        });
        var stop;
        var refresh = 30;
        function show(ms) {
          clearTimeout(stop);
          stop = setTimeout(function (ev) {
            document.querySelectorAll('.ad').forEach(function (t) {
              t.classList.remove('hide');
            });
            show(Math.random() * refresh * 1000 + 1000);
          }, ms);
        }
        show(Math.random() * refresh * 1000 + 1000);
      })();
    </script>
</section>


<!-- 分页设置 -->



    </main>
  </body>
</html>